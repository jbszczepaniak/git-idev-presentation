<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>git presentation</title>
		<link rel="shortcut icon" href="git_logo.png">

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/night.css">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
				<section>
				<h1>About git</h1>
				<h2 class="fragment">for collegaues</h2>
				<h2 class="fragment">from idevelopment.pl</h2>
				</section>
				<section>
					<section>
						<h2>First important thing</h2>
						<h3>Which I think is useful</h3>
					</section>
					<section>
						<p>add following to your ~/.bashrc file</p>
							<pre><code data-trim data-noescape class="bash">
								parse_git_branch()
								{git branch 2> /dev/null | sed -e '/^[^*]/d' -e 's/* \(.*\)/ (\1)/'}
								export PS1="\u@\h \[\033[32m\]\w\[\033[33m\]\$(parse_git_branch)\[\033[00m\] $ "
							</code></pre>
					</section>
					<section>
						and your terminal prompt will change from:
						<pre><code data-trim data-noescape>
						$
						</code></pre>
						into:
						<pre><code data-trim data-noescape>
						(branchname)$
						</code></pre>
					</section>
					<section>
						good practise in local environment !
					</section>
					<section>
						and must have on production server !
					</section>
				</section>
				<section>
					<section>
						<h2>Create new repository</h2>
					</section>

					<section>
						Create a folder and go to it.
						<pre>
							<code data-trim data-noescape class="bash">
								~ $ mkdir presentation
								~ $ cd presentation/
 							</code>
 						</pre>
 						initialize empty git repository
 						<pre>
 							<code data-trim data-noescape class="bash">
								~/presentation $ git init
								Initialized empty Git repository in /home/jedrzej/presentation/.git/
							</code>
						</pre>
					</section>
					<section>
						create .gitignore file
						<pre>
							<code data-trim data-noescape>
	 							~/presentation $ touch .gitignore
	 						</code>
	 					</pre>
	 					check status of repository
	 					<pre>
	 						<code data-trim data-noescape class="bash">
	 					~/presentation $ git status
							On branch master
							Initial commit
							Untracked files:
							(use "git add <file>..." to include in what will be committed)
							.gitignore
							nothing added to commit but untracked files present (use "git add" to track)
							</code>
						</pre>
					</section>
					<section>
						add .gitignore to existing repository
						<pre>
							<code data-trim data-noescape class="bash">
								~/presentation $ git add .gitignore
								~/presentation $ git commit -m "Initial commit with .gitignore file"
								[master (root-commit) 95f2f4a] Initial commit with .gitignore file
								 1 file changed, 0 insertions(+), 0 deletions(-)
								 create mode 100644 .gitignore
							</code>
						</pre>
					</section>
					<section>
						check logs in repository
						<pre>
							<code data-trim data-noescape  class="bash">
							~/presentation (master) $ git log
							commit 95f2f4abe5368c632dd920e73961999c08b0af85
							Author: jedrzej <jedrzej@szczepaniak.com>
							Date:   Sun Feb 19 12:43:11 2017 +0100

							    Initial commit with .gitignore file
							</code>
						</pre>
					</section>
				</section>
				<section >
					<section>
						<h4>Let's create remote repository</h4>
						<h4>on local machine just for sake of this presentation</h4>
						<p>because it is not really important, wheter it sits on github.com, gitlab.com, bitbucket.com, or in another directory on local machine</p>
					</section>
					<section>
						let's create new directory and go to this directory.
						<pre>
							<code data-trim data-noescape  class="bash">
							~ $ mkdir presentation-remote
							~ $ cd presentation-remote
							</code>
						</pre>
					</section>
					<section>
						Now we will create <mark>bare repository</mark>.
						Bare repository does not have checked out working tree, which means that in this repository, we don't have any source code. We have only the state of git repository.
						<pre>
							<code data-trim data-noescape  class="bash">
							~/presentation-remote $ git init --bare
							Initialized empty Git repository in /home/jedrzej/presentation-remote/
							</code>
						</pre>
					</section>
					<section>
						<p>content of bare repository is different than content of regular repository.</p>
						<p>There is no .git directory, all of the informations are kept in special directories</p>
						<pre>
							<code data-trim data-noescape  class="hljs">
							~/presentation-remote $ ls -a
							.  ..  branches  config  description  HEAD  hooks  info  objects  refs
							</code>
						</pre>
					</section>
					<section>
						<p>last one step, we should tell our local repository about remote repository</p>
						<pre>
							<code data-trim data-noescape  class="hljs">
							~/presentation (master) $ git remote add origin ../presentation-remote/
							</code>
						</pre>
						<p>and that we want our local master branch to track remote master branch</p>
						<pre>
							<code data-trim data-noescape  class="hljs">
							~/presentation (master) $ git push --set-upstream origin master
glinux 		c					</code>
						</pre>
					</section>
					<section>
						<p>we can do some verification</p>
						<pre>
							<code data-trim data-noescape  class="hljs">
							~/presentation (master) $ git remote -vvv
							origin	../presentation-remote/ (fetch)
							origin	../presentation-remote/ (push)
							</code>
						</pre>
						-vvv means be as verbose as you can.

						<pre>
							<code data-trim data-noescape  class="hljs">
							jedrzej@jedrzej-UX303LB ~/presentation (master) $ git remote show origin
							* remote origin
							  Fetch URL: ../presentation-remote/
							  Push  URL: ../presentation-remote/
							  HEAD branch: master
							  Remote branches:
							    master            tracked
							  Local branch configured for 'git pull':
							    master merges with remote master
							  Local ref configured for 'git push':
							    master pushes to master (up to date)
							</code>
						</pre>

					</section>
					<section>
						<h4>Note!</h4>
						<p>Normally we work with non-bare repositories. They have source code in them, and .git directory which keeps all the git related information</p>
						<p>In bare repositories we don't have source code. They exist to put them on the server when you don't use any public repository.</p>
					</section>
				</section>
				<section>
					<section>
						let's create new branch
					</section>
					<section>
						<pre>
							<code data-trim data-noescape  class="hljs">
							~/presentation (master) $ git checkout -b "create-readme"
							Switched to a new branch 'create-readme'
							</code>
						</pre>
						equivalent version of the same output would be
						<pre>
							<code data-trim data-noescape  class="bash">
							~/presentation (master) $ git branch create-readme
							~/presentation (master) $ git checkout create-readme
							Switched to branch 'create-readme'
							</code>
						</pre>
					</section>
					<section>
						let's create readme
						<pre>
							<code data-trim data-noescape  class="bash">
							~/presentation (create-readme) $ touch README.md
							~/presentation (create-readme) $ echo "This is readme.md" > README.md
							</code>
						</pre>
						add it to repository
						<pre>
							<code data-trim data-noescape  class="bash">
							~/presentation (create-readme) $ git add README.md
							~/presentation (create-readme) $ git status
							On branch create-readme
							Changes to be committed:
							  (use "git reset HEAD <file>..." to unstage)

								new file:   README.md
							</code>
						</pre>
					</section>
					<section>
						and commit it
						<pre>
							<code data-trim data-noescape  class="bash">
							~/presentation (create-readme) $ git commit -m "Create readme file"
							[create-readme b21b19b] Create readme file
							 1 file changed, 1 insertion(+)
							 create mode 100644 README.md
							</code>
						</pre>
					</section>
					<section>
						now we want to go back to master branch, and merge changes from create-readme branch
						<pre>
							<code data-trim data-noescape  class="bash">
							~/presentation (create-readme) $ git checkout master
							Switched to branch 'master'
							Your branch is up-to-date with 'origin/master'.
							~/presentation (master) $ git merge create-readme
							Updating 95f2f4a..b21b19b
							Fast-forward
							 README.md | 1 +
							 1 file changed, 1 insertion(+)
							 create mode 100644 README.md
							</code>
						</pre>
					</section>
					<section>
						let's push those changes to remote
						<pre>
							<code data-trim data-noescape  class="bash">
							~/presentation (master) $ git push
							Counting objects: 3, done.
							Delta compression using up to 4 threads.
							Compressing objects: 100% (2/2), done.
							Writing objects: 100% (3/3), 297 bytes | 0 bytes/s, done.
							Total 3 (delta 0), reused 0 (delta 0)
							To ../presentation-remote/
							   95f2f4a..b21b19b  master -> master
							</code>
						</pre>
					</section>
					<section>
						suddenly, remote repository knows about new branch - master, because we pushed it to remote.
						<pre>
							<code data-trim data-noescape  class="bash">
							~/presentation-remote $ git branch
							* master
							</code>
						</pre>
					</section>
					<section>
						From perspective of local repository, the remote repository is called origin. It is a convention. It could have any other name, we just explicitly told that we want to name it origin via
						<pre>
							<code data-trim data-noescape  class="hljs">
							~/presentation (master) $ git remote add origin ../presentation-remote/
							</code>
						</pre>
						That is why from local perspective, the remote branch master is <mark>origin/master</mark>
						</section>
						<section>
							<p>We use origin by default always when we clone repository.</p>
							<p>git assumes that we will want refer to remote repository in the future and it automatically sets remote repository for us, and calls it <mark>origin</mark>.</p>
						</section>
						<section>
							<p>let's check</p>
							<pre>
								<code data-trim data-noescape  class="bash">
								~ $ git clone git@github.com:jedruniu/git-idev-presentation.git
								Cloning into 'git-idev-presentation'...
								remote: Counting objects: 150, done.
								remote: Compressing objects: 100% (113/113), done.
								remote: Total 150 (delta 35), reused 145 (delta 30), pack-reused 0
								Receiving objects: 100% (150/150), 2.66 MiB | 1.19 MiB/s, done.
								Resolving deltas: 100% (35/35), done.
								Checking connectivity... done.
								~ $ cd git-idev-presentation/
								~/git-idev-presentation (master) $ git remote -vvv
								origin	git@github.com:jedruniu/git-idev-presentation.git (fetch)
								origin	git@github.com:jedruniu/git-idev-presentation.git (push)
								~/git-idev-presentation (master) $
								</code>
							</pre>
						</section>
						<section>
							now we decided that we don't need create-readme branch anymore
							to remove local branch we run
							<pre>
								<code data-trim data-noescape  class="hljs">
								~/presentation (master) $ git branch -d create-readme
								Deleted branch create-readme (was b21b19b).
								</code>
							</pre>
						</section>
						<section>
							someone creates branch in remote repository
							<pre>
								<code data-trim data-noescape  class="hljs">
								~/presentation-remote (master) $ git branch new-functionality
								~/presentation-remote (master) $ git branch
								* master
								  new-functionality
								</code>
							</pre>
						</section>
						<section>
							we do git pull do make sure that our local repository is up to date
							<pre>
								<code data-trim data-noescape  class="hljs">
								~/presentation (master) $ git pull
								From ../presentation-remote
								 * [new branch]      new-functionality -> origin/new-functionality
								Already up-to-date.
								</code>
							</pre>
							and we figure out that new branch was added remotely.
						</section>
						<section>
							But we don't like this branch very much and we would like to deleted it. We can.
							<pre>
								<code data-trim data-noescape  class="hljs">
								~/presentation (master) $ git push origin :new-functionality
								To ../presentation-remote/
								 - [deleted]         new-functionality
								</code>
							</pre>
							Now on the remote repository new-functionality branch is gone
							<pre>
								<code data-trim data-noescape  class="hljs">
								~/presentation-remote (master) $ git branch
								* master
								</code>
							</pre>
						</section>
					</section>

				<section>
					<section>
						rebasing
					</section>
					<section>
						we create locally new branch called statistics, and commit some file in it
						<pre>
							<code data-trim data-noescape  class="hljs">
							~/presentation (master) $ git checkout -b statistics
							Switched to a new branch 'statistics'
							~/presentation (statistics) $ echo "Statistics code" > stats.c
							~/presentation (statistics) $ git add stats.c
							~/presentation (statistics) $ git commit -m "core statistics file"
							[statistics d81de1f] core statistics file
							 1 file changed, 1 insertion(+)
							 create mode 100644 stats.c
							</code>
						</pre>
					</section>
					<section>
						then we go back to master and change something in README.md
						<pre>
							<code data-trim data-noescape  class="hljs">
							~/presentation (statistics) $ git checkout master
							Switched to branch 'master'
							Your branch is up-to-date with 'origin/master'.
							~/presentation (master) $ echo "new line in readme" >> README.md
							~/presentation (master) $ git add README.md
							~/presentation (master) $ git commit -m "Readme update"
							[master 16ef7f3] Readme update
							 1 file changed, 1 insertion(+)
							</code>
						</pre>
					</section>
					<section>
						now our repository looks like this:
						<pre>
							<code data-trim data-noescape  class="hljs">
								~/presentation (master) $ git lg
								* 16ef7f3 - (6 seconds ago) Readme update - jedrzej (HEAD -> master)
								| * d81de1f - (26 seconds ago) core statistics file - jedrzej (statistics)
								|/
								* b21b19b - (3 minutes ago) Create readme file - jedrzej (origin/master)
								* 95f2f4a - (10 minutes ago) Initial commit with .gitignore file - jedrzej
							</code>
						</pre>
						for graph git log Google something like "pretty git log"
					</section>
					<section>
						now if we want to have changes from statistics branch in master branch we can do merge.
						<pre>
							<code data-trim data-noescape  class="hljs">
							(b21b19b)------(16ef7f3)
								\
								 \
								  \(d81de1f)
							</code>
						</pre>
						master branch points to <b>16ef7f3</b>, and statistics points to <b>d81de1f</b>. Merge means that git will take common ancestor of both branches <b>b21b19b</b> and will perform so called three-way merge, creating new  merge commit
					</section>
					<section>
						We merge:
						<pre>
							<code data-trim data-noescape  class="hljs">
							~/presentation (master) $ git merge statistics
							Merge made by the 'recursive' strategy.
							 stats.c | 1 +
							 1 file changed, 1 insertion(+)
							 create mode 100644 stats.c
							</code>
						</pre>
						In effect git created merge commit (43fca4a):
						<pre>
							<code data-trim data-noescape  class="hljs">
							~/presentation (master) $ git lg
							*   43fca4a - (3 seconds ago) Merge branch 'statistics' - jedrzej (HEAD -> master)
							|\
							| * d81de1f - (36 seconds ago) core statistics file - jedrzej (statistics)
							* | 16ef7f3 - (16 seconds ago) Readme update - jedrzej
							|/
							* b21b19b - (3 minutes ago) Create readme file - jedrzej (origin/master)
							* 95f2f4a - (10 minutes ago) Initial commit with .gitignore file - jedrzej
							</code>
						</pre>
					</section>
					<section>
						let's revert merge by going 1 commit back:
						<pre>
							<code data-trim data-noescape  class="hljs">
							~/presentation (master) $ git reset --hard HEAD~1
							HEAD is now at d672e93 Readme update
							jedrzej@jedrzej-UX303LB ~/presentation (master) $ git lg
							* 16ef7f3 - (6 seconds ago) Readme update - jedrzej (HEAD -> master)
							| * d81de1f - (26 seconds ago) core statistics file - jedrzej (statistics)
							|/
							* b21b19b - (3 minutes ago) Create readme file - jedrzej (origin/master)
							* 95f2f4a - (10 minutes ago) Initial commit with .gitignore file - jedrzej
							</code>
						</pre>
						By the way: HEAD is a pointer that points to most recent commit in current branch.
					</section>
					<section>
						We rebase, which means that we change the base of the statistics branch from previous one to the most recent commit of master
						<pre>
							<code data-trim data-noescape  class="hljs">
							~/presentation (master) $ git checkout statistics
							Switched to branch 'statistics'
							~/presentation (statistics) $ git rebase master
							First, rewinding head to replay your work on top of it...
							Applying: core statistics file
							</code>
						</pre>
					</section>
					<section>
						Now our repository looks like this:
						<pre>
							<code data-trim data-noescape  class="hljs">
							~/presentation (statistics) $ git lg
							* 0e212ec - (79 seconds ago) core statistics file - jedrzej (HEAD -> statistics)
							* 16ef7f3 - (59 seconds ago) Readme update - jedrzej (master)
							* b21b19b - (4 minutes ago) Create readme file - jedrzej (origin/master)
							* 95f2f4a - (11 minutes ago) Initial commit with .gitignore file - jedrzej
							</code>
						</pre>
						Commit 16ef7f3 became a base for branch statistics. It is worth to note that commit with message
						"core statistics file" changed it's hash from d81de1f to 0e212ec. Which means that we've altered history of repository.
					</section>
					<section>
						We moved from:
						<pre>
							<code data-trim data-noescape  class="hljs">
							(b21b19b)------(16ef7f3)
								\
								 \
								  \(d81de1f)
							</code>
						</pre>
						to:
						<pre>
							<code data-trim data-noescape  class="hljs">
							(b21b19b)------(16ef7f3)------(0e212ec)
							</code>
						</pre>
					</section>
					<section>
						<p>The history became linear. This might be useful for situations where we are doing something in branch statistics, and simultaneously our colleague is changing master branch in a way that affects our work. And we want to be up to date with his work.</p>
						<p>We can do git pull & git merge couple of times, but then, our history will be full of merge commits that make no sense for external reader</p>
					</section>
					<section>
						Let's do rebase example
					</section>
					<section>
						<pre>
							<code data-trim data-noescape  class="hljs">
								(A)------(B)------(C)------(D)	<-- master
								 \
								  \
								   \(E)------(F)------(G)	<-- feature-branch
							</code>
						</pre>
						<pre>
							<code data-trim data-noescape  class="hljs">
							~ $ git rebase master
							</code>
						</pre>
						<pre>
							<code data-trim data-noescape  class="hljs">
								(A)----(B)----(C)----(D)	<-- master
										      \
										       \
										        \(E*)----(F*)----(G*) <-- feature-branch
							</code>
						</pre>
					</section>
					<section>
						<p>Always when we try to push local changes to remote repository but git says that we can't because on the remote there are changes that we don't have yet.</p>
						<p>what do we do then?</p>
					</section>
					<section>
						<p>We do git pull which actually is git fetch + git merge</p>
						<p>which means that git will take most recent commit of fetched changes, most recent commit of our work, last common commit of those two branches (changes fetched from remote repository are in fact another branch), and will perform three-way merge, which will result in creating merge commit.</p>
					</section>
					<section>
						The question is:
						<p>Do we really need commits for each such situation?</p>
					</section>
					<section>
						<h1>No</h1>
						<p>what we can do ?</p>
						<p>rebase!</p>
					</section>
					<section>To ilustrate this situation we will:
						<ol>
							<li>create another local repository
							<li>clone remote repository
							<li>commit some changes in master branch and push them to remote repository
							<li>switch back to previous local repository
							<li>commit some changes
							<li>try to push them (they will be rejected)
							<li>REBASE!!!!!
						</ol>
					</section>
                    <section>
                        <p>create another local repository</p>
                        <pre>
                            <code data-trim data-noescape  class="hljs">
                                ~/presentation $ cd ..
                                ~ $ mkdir another-local
                                ~ $ cd another-local/
                            </code>
                        </pre>
                    </section>
                    <section>
                        <p>clone remote repository</p>
                        <pre>
                            <code data-trim data-noescape  class="hljs">
                            ~/another-local $ git clone ../presentation-remote/ .
                            Cloning into '.'...
                            done.
                            ~/another-local (master) $
                            </code>
                        </pre>
                    </section>
                    <section>
                        <p>commit some changes in master branch and push them to remote repository</p>
                        <pre>
                            <code data-trim data-noescape  class="hljs">
                                ~/another-local (master) $ touch LICENSE
                                ~/another-local (master) $ git add .
                                ~/another-local (master) $ git commit -m "License file"
                                [master d635896] License file
                                 1 file changed, 0 insertions(+), 0 deletions(-)
                                 create mode 100644 LICENSE
                                ~/another-local (master) $ git push
                            </code>
                        </pre>
                    </section>
                    <section>
                        <p>switch back to previous local repository</p>
                        <pre>
                            <code data-trim data-noescape  class="hljs">
                                ~/another-local (master) $ cd ../presentation
                            </code>
                        </pre>
                    </section>
                    <section>
                        <p>commit some changes</p>
                        <p>we can omit this step beacuse we didn't push changes last time</p>
                        <pre>
                            <code data-trim data-noescape  class="hljs">
                                ~/presentation (master) $ git status
                                On branch master
                                Your branch is ahead of 'origin/master' by 1 commits.
                                  (use "git push" to publish your local commits)
                                nothing to commit, working directory clean
                            </code>
                        </pre>
                    </section>
                    <section>
                        <p>try to push them (they will be rejected)</p>
                        <pre>
                            <code data-trim data-noescape  class="hljs">
                                ~/presentation (master) $ git push
                                To ../presentation-remote/
                                 ! [rejected]        master -> master (fetch first)
                                error: failed to push some refs to '../presentation-remote/'
                                hint: Updates were rejected because the remote contains work that you do
                                hint: not have locally. This is usually caused by another repository pushing
                                hint: to the same ref. You may want to first integrate the remote changes
                                hint: (e.g., 'git pull ...') before pushing again.
                                hint: See the 'Note about fast-forwards' in 'git push --help' for details.
                            </code>
                        </pre>
                    </section>
                    <section>
                    <p>REBASE</p>
                        <pre>
                            <code data-trim data-noescape  class="hljs">
                                ~/presentation (master) $ git pull --rebase
                                remote: Counting objects: 2, done.
                                remote: Compressing objects: 100% (2/2), done.
                                remote: Total 2 (delta 0), reused 0 (delta 0)
                                Unpacking objects: 100% (2/2), done.
                                From ../presentation-remote
                                   b21b19b..d635896  master     -> origin/master
                                First, rewinding head to replay your work on top of it...
                                Applying: Readme update
                            </code>
                        </pre>
                    </section>
                    <section>
                        <p>now we can push</p>
                        <pre>
                            <code data-trim data-noescape  class="hljs">
                                jedrzej@jedrzej-UX303LB ~/presentation (master) $ git push
                                Counting objects: 6, done.
                                Delta compression using up to 4 threads.
                                Compressing objects: 100% (4/4), done.
                                Writing objects: 100% (6/6), 558 bytes | 0 bytes/s, done.
                                Total 6 (delta 1), reused 0 (delta 0)
                                To ../presentation-remote/
                                   d635896..d18e0d8  master -> master
                            </code>
                        </pre>
                    </section>
                    <section>
                        <p>Now our local changes will be based on the last fetched commit, which means that our history will linear.</p>
                        <pre>
                            <code data-trim data-noescape  class="hljs">
                                ~/presentation (master) $ git lg1
                                * d18e0d8 - (5 minutes ago) Readme update - jedrzej (HEAD -> master, origin/master)
								* d635896 - (48 seconds ago) License file - jedrzej
								| * 0e212ec - (5 minutes ago) core statistics file - jedrzej (statistics)
								| * 16ef7f3 - (5 minutes ago) Readme update - jedrzej
								|/
								* b21b19b - (7 minutes ago) Create readme file - jedrzej
								* 95f2f4a - (15 minutes ago) Initial commit with .gitignore file - jedrzej
                            </code>
                        </pre>
                        <p>Our local commit <b>d18e0d8</b> which previously was based on  <b>b21b19b</b> now is based on top of fetched changes<b>(commit d635896)</b>. We have clear history.</p>
                    </section>
                    <section>
                        <p>But we still have branch statistics which diverged.</p>
                        <p>base of this branch is commit <b>b21b19b</b>, let's rebase it, so it's base will be on <b>d18e0d8</b></p>
                    </section>
                    <section>
                    	<pre>
                            <code data-trim data-noescape  class="hljs">
                            	~/presentation (master) $ git checkout statistics
								Switched to branch 'statistics'
                            </code>
                        </pre>
                        <pre>
                            <code data-trim data-noescape  class="hljs">
                            	~/presentation (statistics) $ git rebase master
								First, rewinding head to replay your work on top of it...
								Applying: core statistics file
                            </code>
                        </pre>
                        <pre>
                            <code data-trim data-noescape  class="hljs">
                            	jedrzej@jedrzej-UX303LB ~/one-more-time/presentation (statistics) $ git lg
								* a26360f - (5 minutes ago) core statistics file - jedrzej (HEAD -> statistics)
								* d18e0d8 - (5 minutes ago) Readme update - jedrzej (origin/master, master)
								* d635896 - (81 seconds ago) License file - jedrzej
								* b21b19b - (8 minutes ago) Create readme file - jedrzej
								* 95f2f4a - (15 minutes ago) Initial commit with .gitignore file - jedrzej
                            </code>
                        </pre>
                    </section>
                    <section>
                    	Now we can merge statistics into master, there is not diverged branches, so merge will be of type "fast-forward"
                    	<pre>
                            <code data-trim data-noescape  class="hljs">
                            	~/one-more-time/presentation (statistics) $ git checkout master
								Switched to branch 'master'
								Your branch is up-to-date with 'origin/master'.
								jedrzej@jedrzej-UX303LB ~/one-more-time/presentation (master) $ git merge statistics
								Updating d18e0d8..a26360f
								Fast-forward
								 stats.c | 1 +
								 1 file changed, 1 insertion(+)
								 create mode 100644 stats.c
								jedrzej@jedrzej-UX303LB ~/one-more-time/presentation (master) $ git lg
								* a26360f - (3 hours ago) core statistics file - jedrzej (HEAD -> master, statistics)
								* d18e0d8 - (3 hours ago) Readme update - jedrzej (origin/master)
								* d635896 - (3 hours ago) License file - jedrzej
								* b21b19b - (3 hours ago) Create readme file - jedrzej
								* 95f2f4a - (3 hours ago) Initial commit with .gitignore file - jedrzej
                            </code>
                        </pre>
                    </section>
                    <section>
                    	<p>everybody is happy, because history is linear, but there is one golden rule about rebasing which everyone should remember</p>
                    	<q>“No one shall rebase a shared branch” ~ Everyone about rebase</q>
                    </section>
                    <section>
                    	<p>why?</p>
                    	<p>remember, when you are rebasing you are changing history, which means that when someone who is working on the same branch as you will try to push on branch you rebased and pushed, strange things will happen because git will think that history of the same branch is different, although in fact is the same</p>
                    </section>
                    <section>
                    	<h3>but two scenarios we've covered are completely safe, namely:</h3>
                    	<ul>
                    		<li><b>git pull --rebase</b> when you can't push to remote repository</li>
                    		<li><b>git rebase</b> on your private branch, to clear history </li>
                    	</ul>
                    </section>
				</section>
				<section>
					<section>
						tags
					</section>
					<section>
						<p>we want to mark some milestones in repository, for example to reflect relases of software, and to be able to switch between those milestones easly.</p>
					</section>
					<section>
						let's create tag v1
						<pre>
                            <code data-trim data-noescape  class="hljs">
							~/presentation (master) $ git tag v1
                            </code>
                        </pre>
                        we can see all our tags
                        <pre>
                            <code data-trim data-noescape  class="hljs">
							~/presentation (master) $ git tag
							v1
                            </code>
                        </pre>
					</section>
					<section>
						it is also reflected in logs
                        <pre>
                            <code data-trim data-noescape  class="hljs">
								~/presentation (master) $ git lg
								* a26360f - (3 hours ago) core statistics file - jedrzej (HEAD -> master, tag: v1, statistics)
								* d18e0d8 - (3 hours ago) Readme update - jedrzej (origin/master)
								* d635896 - (3 hours ago) License file - jedrzej
								* b21b19b - (3 hours ago) Create readme file - jedrzej
								* 95f2f4a - (3 hours ago) Initial commit with .gitignore file - jedrzej

                            </code>
                        </pre>
					</section>
					<section>
						commit some changes
						<pre>
                            <code data-trim data-noescape  class="hljs">
								~/presentation (master) $ touch CONTRIBUTORS
								~/presentation (master) $ git add .
								~/presentation (master) $ git commit -m "Contributors file"
								[master a07557e] Contributors file
								 1 file changed, 0 insertions(+), 0 deletions(-)
								 create mode 100644 CONTRIBUTORS
                            </code>
                        </pre>
                        add another tag
                        <pre>
                            <code data-trim data-noescape  class="hljs">
								~/presentation (master) $ git tag v2
                            </code>
                        </pre>
					</section>
					<section>
						we can return to v1
						<pre>
                            <code data-trim data-noescape  class="hljs">
								~/presentation (master) $ git checkout v1
								Note: checking out 'v1'.

								You are in 'detached HEAD' state. You can look around, make experimental
								changes and commit them, and you can discard any commits you make in this
								state without impacting any branches by performing another checkout.

								If you want to create a new branch to retain commits you create, you may
								do so (now or later) by using -b with the checkout command again. Example:

								  git checkout -b <new-branch-name>

								HEAD is now at a26360f... core statistics file
                            </code>
                        </pre>
					</section>
					<section>
						we have note from git that, we are not on any branch anymore. Our HEAD points to single commit, not on top of some brach as usual which is reflected in our prompt
						<pre>
                            <code data-trim data-noescape  class="hljs">
                            	~/presentation ((HEAD detached at v1)) $
                            </code>
                        </pre>
                        we can go back to any branch with git checkout
                        <pre>
                            <code data-trim data-noescape  class="hljs">
                            	~/presentation ((HEAD detached at v2)) $ git checkout master
								Switched to branch 'master'
								Your branch is ahead of 'origin/master' by 2 commits.
								  (use "git push" to publish your local commits)
								~/presentation (master) $
                            </code>
                        </pre>
					</section>
					<section>
						let's push changes to remote
						<pre>
                            <code data-trim data-noescape  class="hljs">
                            	~/presentation (master) $ git push
								Counting objects: 5, done.
								Delta compression using up to 4 threads.
								Compressing objects: 100% (4/4), done.
								Writing objects: 100% (5/5), 535 bytes | 0 bytes/s, done.
								Total 5 (delta 1), reused 0 (delta 0)
								To ../presentation-remote/
								   d18e0d8..a07557e  master -> master
                            </code>
                        </pre>
                        and swith to remote repository for a while
                        <pre>
                            <code data-trim data-noescape  class="hljs">
								~/presentation (master) $ cd ../presentation-remote/
                            </code>
                        </pre>
					</section>
					<section>
						what is log on remote ?
						<pre>
                            <code data-trim data-noescape  class="hljs">
								~/presentation-remote (master) $ git lg
								* a07557e - (2 minutes ago) Contributors file - jedrzej (HEAD -> master)
								* a26360f - (3 hours ago) core statistics file - jedrzej
								* d18e0d8 - (3 hours ago) Readme update - jedrzej
								* d635896 - (3 hours ago) License file - jedrzej
								* b21b19b - (3 hours ago) Create readme file - jedrzej
								* 95f2f4a - (4 hours ago) Initial commit with .gitignore file - jedrzej
                            </code>
                        </pre>
                        remote repository can't see any of our tags. This is valid. By design tags must be explicitly pushed
					</section>
					<section>
						We can push tags one by one with <b>git push origin tag_name</b> Or we can push them all at once
						<pre>
                            <code data-trim data-noescape  class="hljs">
								~/presentation (master) $ git push --tags
								Total 0 (delta 0), reused 0 (delta 0)
								To ../presentation-remote/
								 * [new tag]         v1 -> v1
								 * [new tag]         v2 -> v2
                            </code>
                        </pre>
                        Now in the remote repository, we can browse all tags defines locally
						<pre>
                            <code data-trim data-noescape  class="hljs">
		                        ~/presentation-remote (master) $ git tag
								v1
								v2
                            </code>
                        </pre>

					</section>

				</section>
				<section>
					<h4>SUMMARY</h4>
					<ul>
						<li>branching</li>
						<li>rebasing</li>
						<li>tags</li>
					</ul>
				</section>
				<section data-background="giphy.gif">
					<h1>END</h1>
				</section>
			</div>
		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>
			// More info https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				history: true,
				slideNumber: true,

				// More info https://github.com/hakimel/reveal.js#dependencies
				dependencies: [
					{ src: 'plugin/markdown/marked.js' },
					{ src: 'plugin/markdown/markdown.js' },
					{ src: 'plugin/notes/notes.js', async: true },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } }
				]
			});
		</script>
	</body>
</html>
